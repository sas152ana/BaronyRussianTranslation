
------ РЕДАКТОР КАРТ ------

Надеемся, что вы найдете этот редактор карт интуитивно понятным и простым в использовании. Если это не так, этот файл справки должен устранить любые недоразумения.

------ ВВЕДЕНИЕ ------

Прежде чем объяснить, как работает редактор, необходимо описать природу игрового движка.

Редактор карт Barony использует тайловую карту для представления геометрии мира и спрайты для отображения динамических объектов. Тайлы располагаются в матрице сетки и не могут взаимодействовать с другими тайлами или объектами самостоятельно, хотя они могут иногда изменяться в ходе игры благодаря определенным игровым объектам или самому движку. Динамические объекты (или Сущности) не привязаны к сетке; во время игры они могут свободно перемещаться и взаимодействовать как с тайлами, так и с другими сущностями. Поэтому они подходят для отображения таких вещей, как персонажи, предметы, снаряды и частицы.

В отличие от многих других тайловых движков, которые позволяют размещать только один тайл в определенной координате X/Y, редактор Barony позволяет размещать несколько тайлов с использованием системы _слоев_. Каждая карта в Barony состоит из трех слоев: первый слой представляет ПОЛ, второй - СТЕНЫ, а третий - ПОТОЛОК.

Изображения для сущностей (представленных в редакторе спрайтами) и тайлов загружаются из соответствующих текстовых файлов в директории "images" и добавляются в списки при запуске редактора и игры. Так как спрайты и тайлы в уровне идентифицируются по их позиции в текстовом файле (или _индексному номеру_), случайное добавление новых изображений в середину этих текстовых файлов - это, как правило, плохая идея. Если указанные изображения отсутствуют или не загружаются, игра и редактор заменяют их на изображение по умолчанию "null", что сигнализирует разработчику об ошибке в данных.

В движке тайл с индексом 0 всегда отображается полностью прозрачным, но в некоторых случаях в редакторе он может выглядеть как маленькое изображение с надписью "air".

Теперь, когда большинство функций движка объяснены, можно перейти к описанию возможностей редактора карт.

------ МЕНЮ ------

Меню в верхней части экрана предоставляет доступ к ряду важных функций.

Меню File позволяет создавать новые карты, открывать существующие карты для редактирования, сохранять карту на диск и закрывать редактор.

Меню Edit позволяет управлять объектами, выбранными с помощью инструмента Select, а также использовать функции отмены/повтора действий.

Меню View позволяет включать и выключать различные настройки, изменяющие внешний вид и функциональность редактора. Галочка отображается рядом с включенными опциями. Первые две опции позволяют включать и выключать панель инструментов и строку состояния, а кнопка "All layers" позволяет отображать все слои уровня одновременно, а не только текущий. Кроме того, переключение опции "Sprites" скрывает все спрайты уровня, "Grid" управляет видимостью сетки для тайловой карты, а "3D mode" позволяет просматривать уровень с трехмерной перспективы.

Меню Map предоставляет доступ к диалоговому окну Attributes, где можно изменить различные параметры редактируемой карты. Также оно включает функцию Clear Map, которая очищает карту от всех тайлов и сущностей после подтверждения.

Меню Help предоставляет доступ к функции About, где можно найти информацию об авторах редактора и документации.

------ ПАНЕЛЬ ИНСТРУМЕНТОВ ------

По умолчанию панель инструментов видна справа от экрана. Ее можно включать и выключать через меню View, упомянутое выше.

В верхней части панели находится черное поле с белым прямоугольником; это миникарта, которая позволяет быстро определить положение экрана относительно карты. Вы можете перемещать экран, удерживая левую кнопку мыши внутри карты и двигая мышь.

Под миникартой расположены кнопки "Palette ..." и "Sprite ...". Нажав на кнопку Palette, вы перейдете на экран, где отображаются все доступные тайлы для создания уровня. Наведение курсора на любой из тайлов отображает информацию о его индексе в нижней части экрана. Нажатие на тайл выбирает его и закрывает экран палитры; затем вы можете использовать выбранный тайл для построения карты.

Кнопка "Sprite ..." позволяет выбирать и размещать определенные спрайты на уровне аналогично выбору тайлов из палитры. Наведение мыши на спрайт показывает его индекс в нижней части экрана; индекс определяет, какая сущность появится вместо спрайта при загрузке карты.

Под кнопками Palette и Sprite находятся кнопки инструментов: "Point" для покраски тайлов по одному, "Brush" для покраски нескольких тайлов за раз, "Select" для выделения и управления группами тайлов и "Fill" для заполнения областей выбранным тайлом.

Ниже кнопок инструментов отображаются текущий выбранный тайл и тайл, на который указывает мышь. Эти элементы служат для справки, но тайл "Above" можно скопировать в выбранный тайл, кликнув правой кнопкой мыши (если под мышью нет спрайта, в этом случае будет выбран и продублирован спрайт).

------ СТРОКА СОСТОЯНИЯ ------

Строка состояния отображает информацию о координатах тайла под мышью, текущем редактируемом слое, а также результаты операций с файлами, таких как сохранение и загрузка карт.

------ ОСНОВНАЯ ОБЛАСТЬ ПРОСМОТРА ------

Основная область редактирования находится вне зон меню, панели инструментов и строки состояния. Это видимый участок уровня, который можно редактировать с помощью мыши.

Доступные действия в этой области:

ЛКМ		-	Использовать текущий инструмент на месте курсора в текущем слое / выбирать спрайты / размещать спрайты  
ПКМ		-	Выбирать тайл под курсором в текущем слое или дублировать спрайт  
Колесико	-	Переключать текущий слой  
Стрелки		-	Перемещать камеру  
S			-	Открыть палитру спрайтов  
T			-	Открыть палитру тайлов  

Кроме того, большинство функций меню имеют горячие клавиши, указанные рядом с ними в меню.

Учтите, что даже если включен режим отображения всех слоев, редактирование карты происходит только в ТЕКУЩЕМ ВЫБРАННОМ СЛОЕ, который отображается в строке состояния. Убедитесь, что вы находитесь в правильном слое перед началом работы! Если видимость ограничена из-за тайлов на переднем плане, ОТКЛЮЧИТЕ опцию "All Layers" в меню View.

------ КОНТАКТЫ ------

Все предложения, комментарии и вопросы отправляйте на: sheridan.rathbun@gmail.com